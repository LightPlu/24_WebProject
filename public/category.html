<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´í…Œê³ ë¦¬ ìƒí’ˆ ëª©ë¡</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function goToMain() {
            window.location.href = '../index.html'; // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™ 
        }
        function showMyPage() {
            window.location.href = 'mypage.html'; // ë§ˆì´ í˜ì´ì§€ë¡œ ì´ë™ 
        }
    </script>
</head>
<body>
    <div class="header">
        <!-- ë¡œê³  ì´ë¯¸ì§€ -->
        <img src="auction_forest_logo.png" alt="ê±°ë˜í•´ìš” ê²½ë§¤ì˜ ìˆ²" class="logo" onclick="goToMain()">
        
        <!-- ê°€ìš´ë° ê²€ìƒ‰ì°½ -->
        <div class="search-container">
            <input type="text" class="search-bar" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            <span class="search-icon">ğŸ”</span>
        </div>

        <!-- ë§ˆì´í˜ì´ì§€ ë²„íŠ¼ -->
        <button class="my-page" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
    </div>

    <div class="container">
        <!-- ì™¼ìª½ í•„í„° ì˜ì—­ -->
        <div class="filter">
            <h3>ê°€ê²© í•„í„°</h3>
            <form id="price-filter-form">
                <p>
                <label><input type="checkbox" name="price-range" value="0-1000"> 0 - 1,000ì›</label><br>
                <label><input type="checkbox" name="price-range" value="1000-5000"> 1,000 - 5,000ì›</label><br>
                <label><input type="checkbox" name="price-range" value="5000-10000"> 5,000 - 10,000ì›</label><br>
                <label><input type="checkbox" name="price-range" value="10000-100000"> 10,000 - 100,000ì›</label><br>
                <label><input type="checkbox" name="price-range" value="100000-300000"> 100,000 - 300,000ì›</label><br>
                <button type="button" onclick="applyFilter()" class="link-button">ì ìš©í•˜ê¸°</button>
                </p>
            </form>
            <div class="manual-price-filter">
                <label>ì§ì ‘ ì…ë ¥:</label><br>
                <input type="number" id="min-price" placeholder="ìµœì†Œ ê°€ê²© (ë§Œì›)" style="width: 80px;">
                ~
                <input type="number" id="max-price" placeholder="ìµœëŒ€ ê°€ê²© (ë§Œì›)" style="width: 80px;"><br>
            </div>
        </div>

        <!-- ì˜¤ë¥¸ìª½ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ -->
        <div class="product-container">
            <h1 id="category-title">ì¹´í…Œê³ ë¦¬ ìƒí’ˆ ëª©ë¡</h1>
            <div class="product-list" id="product-list"></div>
        </div>
    </div>

    <script>
        // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì¹´í…Œê³ ë¦¬ ì´ë¦„ì„ ê°€ì ¸ì˜´
        function getCategoryFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('category');
        }

        // ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆ ë°ì´í„°ë¥¼ ì„¤ì •
        const productData = {
            "ì›í”¼ìŠ¤": [
                { name: "í”Œë¡œëŸ´ ì›í”¼ìŠ¤", price: 15000, location: "ì •ìë™", img: "dress1.jpg" },
                { name: "í”„ë‘ìŠ¤ ê³¨í”„ë””í”¼ë©”ë¡œ", price: 30000, location: "í•œë‚¨ë™", img: "dress2.jpg" },
                { name: "ë‹ˆíŠ¸ ê°€ë””ê±´1", price: 9000, location: "í›„ì•”ë™", img: "dress3.jpg" },
                { name: "ë‹ˆíŠ¸ ê°€ë””ê±´2", price: 9000, location: "í›„ì•”ë™", img: "dress3.jpg" },
                { name: "ë‹ˆíŠ¸ ê°€ë””ê±´3", price: 9000, location: "í›„ì•”ë™", img: "dress3.jpg" },
                { name: "ë‹ˆíŠ¸ ê°€ë””ê±´4", price: 9000, location: "í›„ì•”ë™", img: "dress3.jpg" },
                { name: "ë‹ˆíŠ¸ ê°€ë””ê±´5", price: 9000, location: "í›„ì•”ë™", img: "dress3.jpg" },

                // ë” ë§ì€ ìƒí’ˆ ì¶”ê°€ ê°€ëŠ¥
            ],
            "ì „ê¸°ìì „ê±°": [
                { name: "ì „ê¸°ìì „ê±° mate x", price: 3300000, location: "ìš©ì‚°êµ¬", img: "bike1.jpg" },
                { name: "ì „ê¸°ìì „ê±° ë°”ì´ì•„ì¡°", price: 1000000, location: "í•œë‚¨ë™", img: "bike2.jpg" },
                { name: "ì—ì½”ë¼ì´ë¸Œ íƒ€ì´íƒ„", price: 1120000, location: "ìš©ë¬¸ë™", img: "bike3.jpg" }
            ]
            // ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ ë°ì´í„°ë„ ì¶”ê°€ ê°€ëŠ¥
        };

        // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ ìƒí’ˆì„ ë™ì ìœ¼ë¡œ í‘œì‹œ
        function displayProducts(categoryName, selectedRanges = [], minPrice = null, maxPrice = null) {
    const productList = document.getElementById('product-list');
    const categoryTitle = document.getElementById('category-title');

    // íƒ€ì´í‹€ ì„¤ì •
    categoryTitle.textContent = `${categoryName} ê²€ìƒ‰ ê²°ê³¼`;

    // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì˜ ìƒí’ˆ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    let products = productData[categoryName] || [];

    // ì²´í¬ë°•ìŠ¤ ê°€ê²© í•„í„° ì ìš©
    if (selectedRanges.length > 0) {
        products = products.filter(product => {
            return selectedRanges.some(range => {
                const [minRange, maxRange] = range.split('-').map(Number);
                return product.price >= minRange && product.price <= maxRange;
            });
        });
    }

    // ì§ì ‘ ì…ë ¥ëœ ìµœì†Œ ë° ìµœëŒ€ ê°€ê²© í•„í„° ì ìš©
    if (minPrice !== null && maxPrice !== null) {
        products = products.filter(product => product.price >= minPrice&& product.price <= maxPrice);
    }

    // ìƒí’ˆ ëª©ë¡ ì´ˆê¸°í™”
    productList.innerHTML = '';

    // ìƒí’ˆ ëª©ë¡ ìƒì„±
    products.forEach(product => {
        const productItem = document.createElement('div');
        productItem.className = 'product-item';

        productItem.innerHTML = `
            <img src="images/${product.img}" alt="${product.name}">
            <h3>${product.name}</h3>
            <p class="price">${product.price.toLocaleString()}ì›</p>
            <p class="location">${product.location}</p>
        `;

        productList.appendChild(productItem);
    });
}

        // í•„í„° ì ìš© í•¨ìˆ˜
        function applyFilter() {
            const checkboxes = document.querySelectorAll('input[name="price-range"]:checked');
            const selectedRanges = Array.from(checkboxes).map(checkbox => checkbox.value);
            
            const minPrice = document.getElementById('min-price').value;
            const maxPrice = document.getElementById('max-price').value;

            const categoryName = getCategoryFromURL();
            displayProducts(categoryName, selectedRanges, minPrice ? Number(minPrice) : 0, maxPrice ? Number(maxPrice) : 10000000000);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´í…Œê³ ë¦¬ ì„¤ì •
        document.addEventListener('DOMContentLoaded', () => {
            const categoryName = getCategoryFromURL();
            displayProducts(categoryName);
        });
    </script>
</body>
</html>
